<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
  </head>
  <body style="width:800px;margin:0px auto">
    <input placeholder="consumer key" id="consumer_key" />
    <input placeholder="consumer secret" id="consumer_secret" />
    <input placeholder="access_token" id="access_token" />
    <input placeholder="access_token_secret" id="access_token_secret" />
    <input type="submit" onclick="submit();" />
  </body>
  <script src="backtofront.js"></script>
  <script>
    function $(id) {
      return document.getElementById(id);
    }
    function submit() {
      localStorage.consumer_key = $('consumer_key').value;
      localStorage.consumer_secret = $('consumer_secret').value;
      localStorage.access_token = $('access_token').value;
      localStorage.access_token_secret = $('access_token_secret').value;
      localStorage.consumer_key = $('consumer_key').value;
      customer.disobey({
        consumer_key: $('consumer_key').value,
        consumer_secret: $('consumer_secret').value,
        access_token: $('access_token').value,
        access_token_secret: $('access_token_secret').value
      }, function(err, sessionKey) {
         if(err) {
           alert(err);
         } else {
           alert(sessionKey);
         }
      });
    } 
    backtofront.connect('wss://'+location.host+'/sock/websocket', 'my_secret', function(){
      $('consumer_key').value = localStorage.consumer_key;
      $('consumer_secret').value = localStorage.consumer_secret;
      $('access_token').value = localStorage.access_token;
      $('access_token_secret').value = localStorage.access_token_secret;
    });
  </script>
</html>
